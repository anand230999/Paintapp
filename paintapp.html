<!DOCTYPE HTML>
<html>
    <head>
        <title>Simple Paint app</title>
        <style>
            #myCanvas {
                border: 5px solid black;
            }
        </style>
        <script>
            var canvas, ctx, painting = false, previousMousePos, color = "black", width = 1;

            function getMousePos(canvas, evt) {
                var rect = canvas.getBoundingClientRect();
                return {
                    x: evt.clientX - rect.left,
                    y: evt.clientY - rect.top
                };
            }

            function drawLineImmediate(x1, y1, x2, y2) {
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.lineWidth = width;
                ctx.strokeStyle = color;
                ctx.stroke();
            }

            function clr(){
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }

            function pencil(){
                color = "black";
                width = 1;
            }
            function colors(a){
                 color = a;
                 width = 10;
            }
            function eraser(){
                 color = "white";
                 width = 5;
            }
            function handleMouseMove(evt) {
                var mousePos = getMousePos(canvas, evt);
                if (painting) {
                    drawLineImmediate(previousMousePos.x, previousMousePos.y,
                            mousePos.x, mousePos.y);

                    previousMousePos = mousePos;
                }
            }
          
            function clicked(evt) {
                previousMousePos = getMousePos(canvas, evt);
            }

            function released(evt) {
                painting = false;
            }

            function click(evt){
                painting = true;
            }

            window.onload = function () {
                canvas = document.getElementById('myCanvas');
                ctx = canvas.getContext('2d');
                painting = false;

                canvas.addEventListener('mousemove', handleMouseMove, false);
                canvas.addEventListener('dblclick', click);
                canvas.addEventListener('mousedown', clicked);
                canvas.addEventListener('mouseup', released);
            };
        </script>
    </head>
    <body>
        <p> In order to use all butttons please double click and draw then to stop pencil please do a single click </p>
        <button onclick="pencil()"style="float: right;">PENCIL </button>
        <button onclick="eraser()"style="float: right;">ERASER</button>
        <button onclick="clr()"style="float: right;">CLEAR</button>
        <button onclick="rect()"style="float: right;">RECTANGLE</button>
        <button onclick="circle()"style="float: right;">CIRCLE</button>
<center>
<table border=2 bgcolor=#FFFFFF align="left">
<td><div onclick = "colors('#FF0000')" style ="width:20px;height:20px;background-color:#FF0000"></div><td>
<td><div onclick = "colors('#0000FF')" style ="width:20px;height:20px;background-color:#0000FF"></div><td>
<tr>
<td><div onclick = "colors('#00FA9A')" style ="width:20px;height:20px;background-color:#00FA9A"></div><td>
<td><div onclick = "colors('#FFFF00')" style ="width:20px;height:20px;background-color:#FFFF00"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#000000')" style ="width:20px;height:20px;background-color:#000000"></div><td>
<td><div onclick = "colors('#000080')" style ="width:20px;height:20px;background-color:#000080"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#0000FF')" style ="width:20px;height:20px;background-color:#0000FF"></div><td>
<td><div onclick = "colors('#006400')" style ="width:20px;height:20px;background-color:#006400"></div><td>
</tr>
<tr>
<td><div onclick = "colors('##006400')" style ="width:20px;height:20px;background-color:#006400"></div><td>
<td><div onclick = "colors('##008000')" style ="width:20px;height:20px;background-color:#008000"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#00BFFF')" style ="width:20px;height:20px;background-color:#00BFFF"></div><td>
<td><div onclick = "colors('#00CED1')" style ="width:20px;height:20px;background-color:#00CED1"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#00FF00')" style ="width:20px;height:20px;background-color:#00FF00"></div><td>
<td><div onclick = "colors('#00FFFF')" style ="width:20px;height:20px;background-color:#00FFFF"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#191970')" style ="width:20px;height:20px;background-color:#191970"></div><td>
<td><div onclick = "colors('#1E90FF')" style ="width:20px;height:20px;background-color:#1E90FF"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#7B68EE')" style ="width:20px;height:20px;background-color:#7B68EE"></div><td>
<td><div onclick = "colors('#7CFC00')" style ="width:20px;height:20px;background-color:#7CFC00"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#800000')" style ="width:20px;height:20px;background-color:#800000"></div><td>
<td><div onclick = "colors('#800080')" style ="width:20px;height:20px;background-color:#800080"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#808000')" style ="width:20px;height:20px;background-color:#808000"></div><td>
<td><div onclick = "colors('#808080')" style ="width:20px;height:20px;background-color:#808080"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#CD5C5C')" style ="width:20px;height:20px;background-color:#CD5C5C"></div><td>
<td><div onclick = "colors('#FFA500')" style ="width:20px;height:20px;background-color:#FFA500"></div><td>
</tr>
<tr>
<td><div onclick = "colors('#C0C0C0')" style ="width:20px;height:20px;background-color:#C0C0C0"></div><td>
<td><div onclick = "colors('#FFFFFF')" style ="width:20px;height:20px;background-color:#FFFFFF"></div><td>
</table></center>  
    <canvas id="myCanvas" width="1024" height="768">
        </canvas>
    </body>
</html>
